<div class='grid'>
  {% for i in (0..2) %}
    {% assign indexHalf = 0 %}
    {% assign indexThird = 0 %}

    <div class='grid__column'>
      {% for product in productArray %}
        {% comment %} items for single grid {% endcomment %}
        {% if i == 0 %}
          {% assign productClass = 'grid__item--single' %}
          {% include 'product-grid-item' %}
        {% endif %}

        {% comment %} items for double grid {% endcomment %}
        {% if i <= 1 %}
          {% assign flag = indexHalf | minus:i | modulo:2 %}
          {% if flag  == 0 %}
            {% assign productClass = 'grid__item--double' %}
            {% include 'product-grid-item' %}
          {% endif %}
          {% assign indexHalf = indexHalf | plus:1 %}
        {% endif %}

        {% comment %} items for triple grid {% endcomment %}
        {% assign flag = indexThird | minus:i | modulo:3 %}
        {% if flag == 0 %}
          {% assign productClass = 'grid__item--triple' %}
          {% include 'product-grid-item' %}
        {% endif %}
        {% assign indexThird = indexThird | plus:1 %}
      {% endfor %}
    </div>
  {% endfor %}
</div>
